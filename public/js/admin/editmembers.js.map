{"version":3,"sources":["editmembers.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editmembers.js","sourcesContent":["(function () {\r\n\t$(function () {\r\n\t\tfunction getPlanData(json_str) {\r\n\t\t\tvar json_data = JSON.parse(json_str);\r\n\t\t\tvar plan_data = [];\r\n\t\t\tfor (var j in json_data) {\r\n\t\t\t\tvar c = {id: json_data[j].plan_id, text: json_data[j].plan_name};\r\n\t\t\t\tplan_data.push(c);\r\n\t\t\t}\r\n\t\t\treturn plan_data;\r\n\t\t}\r\n\r\n\t\tfunction getGroupData(json_str) {\r\n\t\t\tvar json_data = JSON.parse(json_str);\r\n\t\t\tvar group_data = [];\r\n\t\t\tfor (var i in json_data) {\r\n\t\t\t\tif (json_data[i].name === 'Admin') {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar c = {id: json_data[i].id, text: json_data[i].name};\r\n\t\t\t\tgroup_data.push(c);\r\n\t\t\t}\r\n\t\t\treturn group_data;\r\n\t\t}\r\n\r\n\t\t$('#plan_id').select2({\r\n\t\t\tplaceholder: \"~~ Select a plan ~~\",\r\n\t\t\tallowClear: true,\r\n\t\t\tdata: getPlanData(plans)\r\n\t\t});\r\n\r\n\t\t$('#group_id').select2({\r\n\t\t\tplaceholder: \"~~ Select a group ~~\",\r\n\t\t\tallowClear: true,\r\n\t\t\tdata: getGroupData(group_str)\r\n\t\t});\r\n\t});\r\n})();\r\n\r\nfunction cancelPlan(id) {\r\n\tvar url = BASE + '/admin/members/' + id;\r\n\tbootbox.confirm({\r\n\t\tmessage: 'Are you sure want to cancel subscription?',\r\n\t\tbuttons: {\r\n\t\t\tconfirm: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-check\"></i> Sure',\r\n\t\t\t\tclassName: 'btn-primary'\r\n\t\t\t},\r\n\t\t\tcancel: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-times\"></i> Cancel',\r\n\t\t\t\tclassName: 'btn-warning'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallback: function (result) {\r\n\t\t\tif (result) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'PUT',\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tdata: '_token=' + Token + '&status=cancel_subscription',\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tif (response === 'success') {\r\n\t\t\t\t\t\t\tlocation.href = href_url;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}"]}