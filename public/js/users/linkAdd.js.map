{"version":3,"sources":["linkAdd.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"linkAdd.js","sourcesContent":["(function ($) {\r\n\t$(function () {\r\n\t\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n\t\t$('#link_group_id, #popup_id, #magickbar_id, #smartswap_id, #timer_id').select2({\r\n\t\t\tplaceholder: '~~ Select ~~'\r\n\t\t});\r\n\r\n\t\tvar $geo_include = $('#geo_include').val();\r\n\t\tvar $geo_include_val = [];\r\n\t\tif ($geo_include !== '') {\r\n\t\t\t$geo_include_val = $geo_include.split(',');\r\n\t\t}\r\n\t\t$('#geo_targeting_include_countries').val($geo_include_val).select2({\r\n\t\t\tplaceholder: '~~ Select ~~',\r\n\t\t\tmultiple: true\r\n\t\t});\r\n\r\n\t\tvar $geo_exclude = $('#geo_exclude').val();\r\n\t\tvar $geo_exclude_val = [];\r\n\t\tif ($geo_exclude !== '') {\r\n\t\t\t$geo_exclude_val = $geo_exclude.split(',');\r\n\t\t}\r\n\t\t$('#geo_targeting_exclude_countries').val($geo_exclude_val).select2({\r\n\t\t\tplaceholder: '~~ Select ~~',\r\n\t\t\tmultiple: true\r\n\t\t});\r\n\r\n\t\tvar value = $(\"input[name='geo_targeting']:checked\").val();\r\n\t\tdisplayCountries(value);\r\n\r\n\t\tvar cloak_value = $(\"input[name='cloak_link']:checked\").val();\r\n\t\tdisplayCloakDetails(cloak_value);\r\n\r\n\t\tfor (var key in fields) {\r\n\t\t\tvar $fields_key = $('#' + fields[key]);\r\n\t\t\tif (key === 'pop_up' || key === 'magick_bar' || key === 'timer' || key === 'smart_swap') {\r\n\t\t\t\tif (key === 'smart_swap') {\r\n\t\t\t\t\tif ($fields_key.val() !== '0') {\r\n\t\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ($fields_key.val() > 0) {\r\n\t\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'cloak') {\r\n\t\t\t\tif (cloak_value === 'Yes') {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'front_end') {\r\n\t\t\t\tvar front_end_value = $(\"input[name='front_end']:checked\").val();\r\n\t\t\t\tif (front_end_value === 'Yes') {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'traffic_cost') {\r\n\t\t\t\tif (($fields_key.val() !== '' && $fields_key.val() > 0)) {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'geotargeting') {\r\n\t\t\t\tif (value !== 'All') {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'detect_bots') {\r\n\t\t\t\tvar detect_new_bots = $(\"input[name='detect_new_bots']:checked\").val();\r\n\t\t\t\tif (detect_new_bots === 'Yes') {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else if (key === 'bad_clicks') {\r\n\t\t\t\tvar abuser = $('#abuser').val();\r\n\t\t\t\tvar anon = $('#anon').val();\r\n\t\t\t\tvar bot = $('#bot').val();\r\n\t\t\t\tvar spider = $('#spider').val();\r\n\t\t\t\tvar server = $('#server').val();\r\n\t\t\t\tvar user = $('#user').val();\r\n\t\t\t\tif ((abuser !== 'Filter') || (anon !== 'Filter') || (bot !== 'Filter') || (spider !== 'Filter') || (server !== 'Filter') || (user !== 'Filter')) {\r\n\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (key === 'max_clicks') {\r\n\t\t\t\t\tif ($fields_key.val() !== '' && $fields_key.val() > 0) {\r\n\t\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ($fields_key.val() !== '') {\r\n\t\t\t\t\t\ttoggleOptionsLoad(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Validate\r\n\t\tvar mes_required = 'Required';\r\n\t\tvar err_msg = \"\";\r\n\t\tvar err_msg1 = \"\";\r\n\r\n\t\tvar messageFunc = function () {\r\n\t\t\treturn err_msg;\r\n\t\t};\r\n\r\n\t\tvar messageFunc1 = function () {\r\n\t\t\treturn err_msg1;\r\n\t\t};\r\n\r\n\t\t$.validator.addMethod('linkRegex', function (value, element) {\r\n\t\t\treturn this.optional(element) || /^[a-z0-9\\-]+$/i.test(value);\r\n\t\t}, 'Tracking link must contain only letters, numbers and hyphens.');\r\n\r\n\t\t$.validator.addMethod('notEqualTo', function (value, element, param) {\r\n\t\t\tvar target = $(param);\r\n\t\t\tif (value) {\r\n\t\t\t\treturn $.trim(value) !== target.val();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn this.optional(element);\r\n\t\t\t}\r\n\t\t}, 'Backup URL can\\'t be the same as your Primary URL.');\r\n\r\n\t\t$.validator.addMethod('cloakRequired', function (value, element) {\r\n\t\t\tif (value !== '' && value > 0) {\r\n\t\t\t\tif ($(\"input[name='cloak_link']:checked\").val() === 'No') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}, 'To use a Pop Up you must cloak your link.');\r\n\r\n\t\t$.validator.addMethod('chkBackUrlRequired', function (value, element, param) {\r\n\t\t\tvar target = $(param);\r\n\t\t\tvar target_id = target.attr('id');\r\n\t\t\tif ($('#backup_url').val() === '') {\r\n\t\t\t\tif (target_id === 'max_clicks') {\r\n\t\t\t\t\tif (target.val() !== '' && target.val() > 0) {\r\n\t\t\t\t\t\terr_msg = 'You must enter a valid Backup URL to set Max Clicks';\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (target_id === 'geo_targeting_include_countries' || target_id === 'geo_targeting_exclude_countries') {\r\n\t\t\t\t\tvar geo_value = $(\"input[name='geo_targeting']:checked\").val();\r\n\t\t\t\t\tif (geo_value === 'Specified') {\r\n\t\t\t\t\t\terr_msg = 'You must enter a valid Backup URL to set Geo Targeting';\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (target_id === 'smartswap_id') {\r\n\t\t\t\t\tif (target.val() !== '0') {\r\n\t\t\t\t\t\terr_msg = 'You must enter a valid Backup URL to use SmartSwap';\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}, messageFunc);\r\n\r\n\t\t$.validator.addMethod('chkIncludeOrExcludeRequired', function (value, element) {\r\n\t\t\tvar geo_value = $(\"input[name='geo_targeting']:checked\").val();\r\n\t\t\tif (geo_value === 'Specified') {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tif ($(\"#geo_targeting_include_countries\").val() === null && $(\"#geo_targeting_exclude_countries\").val() === null) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}, 'For geotargeting you need to select 1 or more countries.');\r\n\r\n\t\t$.validator.addMethod('chkPixelCode', function (value, element) {\r\n\t\t\tif (value !== '') {\r\n\t\t\t\tvar pattern1 = new RegExp('\\\\<');\r\n\t\t\t\tvar pattern2 = new RegExp('\\\\>');\r\n\t\t\t\tif (!pattern1.test(value) || !pattern2.test(value)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}, 'You did not enter a valid Pixel code or HTML.');\r\n\r\n\t\t$.validator.addMethod('chkTrackingLink', function (value, element, param) {\r\n\t\t\tvar target = $(param);\r\n\t\t\tvar target_id = target.attr('id');\r\n\t\t\tvar isValid = true;\r\n\t\t\tif ($(\"#tracking_link\").val() !== '') {\r\n\t\t\t\t$(\"#tracking_domain > option\").each(function () {\r\n\t\t\t\t\tvar go_track_url = this.text + '/' + $(\"#tracking_link\").val();\r\n\t\t\t\t\tvar track_url = go_track_url.replace('go/', 'track/');\r\n\t\t\t\t\tif ((go_track_url === value) || (track_url === value)) {\r\n\t\t\t\t\t\tisValid = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (!isValid) {\r\n\t\t\t\t\tif (target_id === 'primary_url') {\r\n\t\t\t\t\t\terr_msg1 = 'Primary URL should not be same as Tracking Link';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (target_id === 'backup_url') {\r\n\t\t\t\t\t\terr_msg1 = 'Backup URL should not be same as Tracking Link';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (target_id === 'mobile_url') {\r\n\t\t\t\t\t\terr_msg1 = 'Mobile URL should not be same as Tracking Link';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (target_id === 'repeat_url') {\r\n\t\t\t\t\t\terr_msg1 = 'Repeat URL should not be same as Tracking Link';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn isValid;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}, messageFunc1);\r\n\r\n\t\t$.validator.addMethod('complete_url', function (val, elem, param) {\r\n\t\t\t// if no url, don't do anything\r\n\t\t\tif (val.length === 0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// if user has not entered http:// https:// or ftp:// assume they mean http://\r\n\t\t\tif (!/^(https?|ftp):\\/\\//i.test(val) && val.length > 7) {\r\n\t\t\t\tval = 'http://' + val; // set both the value\r\n\t\t\t\t$(elem).val(val); // also update the form element\r\n\t\t\t}\r\n\t\t\treturn /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&amp;'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&amp;'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&amp;'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&amp;'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&amp;'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(val);\r\n\t\t}, $.validator.messages.url);\r\n\r\n\t\t$('#linkFrm').validate({\r\n\t\t\tonfocusout: injectTrim($.validator.defaults.onfocusout),\r\n\t\t\tonkeyup: function (element) {\r\n\t\t\t\tvar element_id = $(element).attr('id');\r\n\t\t\t\tif (this.settings.rules[element_id].onkeyup !== false) {\r\n\t\t\t\t\t$.validator.defaults.onkeyup.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tlink_name: {\r\n\t\t\t\t\tminlength: 4,\r\n\t\t\t\t\tmaxlength: 255\r\n\t\t\t\t},\r\n\t\t\t\ttracking_link: {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tminlength: 4,\r\n\t\t\t\t\tmaxlength: 255,\r\n\t\t\t\t\tlinkRegex: true\r\n\t\t\t\t},\r\n\t\t\t\tprimary_url: {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tcomplete_url: true,\r\n\t\t\t\t\tchkTrackingLink: '#primary_url',\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\tcloak_page_title: {\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\tcloak_page_description: {\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\tmax_clicks: {\r\n\t\t\t\t\tchkBackUrlRequired: '#max_clicks',\r\n\t\t\t\t\tdigits: true\r\n\t\t\t\t},\r\n\t\t\t\tsmartswap_id: {\r\n\t\t\t\t\tchkBackUrlRequired: '#smartswap_id'\r\n\t\t\t\t},\r\n\t\t\t\ttraffic_cost: {\r\n\t\t\t\t\tnumber: true\r\n\t\t\t\t},\r\n\t\t\t\t'geo_targeting_include_countries[]': {\r\n\t\t\t\t\tchkIncludeOrExcludeRequired: true,\r\n\t\t\t\t\tchkBackUrlRequired: '#geo_targeting_include_countries'\r\n\t\t\t\t},\r\n\t\t\t\t'geo_targeting_exclude_countries[]': {\r\n\t\t\t\t\tchkIncludeOrExcludeRequired: true,\r\n\t\t\t\t\tchkBackUrlRequired: '#geo_targeting_exclude_countries'\r\n\t\t\t\t},\r\n\t\t\t\tbackup_url: {\r\n\t\t\t\t\tnotEqualTo: \"#primary_url\",\r\n\t\t\t\t\tcomplete_url: true,\r\n\t\t\t\t\tchkTrackingLink: '#backup_url',\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\trepeat_url: {\r\n\t\t\t\t\tnotEqualTo: \"#primary_url\",\r\n\t\t\t\t\tcomplete_url: true,\r\n\t\t\t\t\tchkTrackingLink: '#repeat_url',\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\tmobile_url: {\r\n\t\t\t\t\tnotEqualTo: \"#primary_url\",\r\n\t\t\t\t\tcomplete_url: true,\r\n\t\t\t\t\tchkTrackingLink: '#mobile_url',\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t},\r\n\t\t\t\tpopup_id: {\r\n\t\t\t\t\tcloakRequired: true\r\n\t\t\t\t},\r\n\t\t\t\tmagickbar_id: {\r\n\t\t\t\t\tcloakRequired: true\r\n\t\t\t\t},\r\n\t\t\t\ttimer_id: {\r\n\t\t\t\t\tcloakRequired: true\r\n\t\t\t\t},\r\n\t\t\t\tpixel_code: {\r\n\t\t\t\t\tchkPixelCode: true\r\n\t\t\t\t},\r\n\t\t\t\tnotes: {\r\n\t\t\t\t\tonkeyup: false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmessages: {\r\n\t\t\t\ttracking_link: {\r\n\t\t\t\t\trequired: mes_required\r\n\t\t\t\t},\r\n\t\t\t\tprimary_url: {\r\n\t\t\t\t\trequired: mes_required\r\n\t\t\t\t},\r\n\t\t\t\tmax_clicks: {\r\n\t\t\t\t\tdigits: 'Max Clicks must be a number'\r\n\t\t\t\t},\r\n\t\t\t\tsmartswap_id: {\r\n\t\t\t\t\tchkBackUrlRequired: 'You must enter a valid Backup URL to use SmartSwap'\r\n\t\t\t\t},\r\n\t\t\t\tbackup_url: {\r\n\t\t\t\t\tnotEqualTo: 'Backup URL can\\'t be the same as your Primary URL.'\r\n\t\t\t\t},\r\n\t\t\t\trepeat_url: {\r\n\t\t\t\t\tnotEqualTo: 'Repeat URL can\\'t be the same as your Primary URL.'\r\n\t\t\t\t},\r\n\t\t\t\tmobile_url: {\r\n\t\t\t\t\tnotEqualTo: 'Mobile URL can\\'t be the same as your Primary URL.'\r\n\t\t\t\t},\r\n\t\t\t\tpopup_id: {\r\n\t\t\t\t\tcloakRequired: 'To use a Pop Up you must cloak your link.'\r\n\t\t\t\t},\r\n\t\t\t\tmagickbar_id: {\r\n\t\t\t\t\tcloakRequired: 'To use a Pop Bar you must cloak your link.'\r\n\t\t\t\t},\r\n\t\t\t\ttimer_id: {\r\n\t\t\t\t\tcloakRequired: 'To use a Timer you must cloak your link.'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n})(jQuery);\r\n\r\nfunction toggleOptions(val) {\r\n\tvar $val_div = $('#' + val + '_div');\r\n\r\n\tif (val === 'pop_up' || val === 'magick_bar' || val === 'timer') {\r\n\t\tvar cloak_div = $(\"#cloak_div\");\r\n\r\n\t\tif (cloak_div.is(':hidden') && $val_div.is(':hidden')) {\r\n\t\t\tcloak_div.toggle();\r\n\t\t\t$(\"#cloak_div_link\").toggle();\r\n\t\t}\r\n\t} else if (val === 'max_clicks' || val === 'smart_swap' || val === 'geotargeting') {\r\n\t\tvar backup_url_div = $(\"#backup_url_div\");\r\n\r\n\t\tif (backup_url_div.is(':hidden') && $val_div.is(':hidden')) {\r\n\t\t\tbackup_url_div.toggle();\r\n\t\t\t$(\"#backup_url_div_link\").toggle();\r\n\t\t}\r\n\t}\r\n\r\n\tif (!$val_div.is(':hidden')) {\r\n\t\tif (val === 'cloak') {\r\n\t\t\t$(\"#cloak_link_yes\").prop(\"checked\", false);\r\n\t\t\t$(\"#cloak_link_no\").prop(\"checked\", true);\r\n\t\t\t$(\"#cloak_page_title\").val('');\r\n\t\t\t$(\"#cloak_page_description\").val('');\r\n\r\n\t\t\tdisplayCloakDetails('No');\r\n\r\n\t\t\t$(\"label[for='cloak_link'].error\").text('');\r\n\t\t\t$(\"label[for='cloak_page_title'].error\").text('');\r\n\t\t\t$(\"label[for='cloak_page_description'].error\").text('');\r\n\t\t} else if (val === 'front_end') {\r\n\t\t\t$(\"#front_end_yes\").prop(\"checked\", false);\r\n\t\t\t$(\"#front_end_no\").prop(\"checked\", true);\r\n\r\n\t\t\t$(\"#conversions_to_this_link_yes\").prop(\"checked\", true);\r\n\t\t\t$(\"#conversions_to_this_link_no\").prop(\"checked\", false);\r\n\r\n\t\t\t$(\"label[for='front_end'].error\").text('');\r\n\t\t\t$(\"label[for='conversions_to_this_link'].error\").text('');\r\n\t\t} else if (val === 'pop_up') {\r\n\t\t\tvar p_id = $('#popup_id');\r\n\t\t\tp_id.val('0').prop('selected', true);\r\n\t\t\tp_id.parent().find('span:first').text('None');\r\n\r\n\t\t\t$(\"label[for='popup_id'].error\").text('');\r\n\t\t} else if (val === 'magick_bar') {\r\n\t\t\tvar m_id = $('#magickbar_id');\r\n\t\t\tm_id.val('0').prop('selected', true);\r\n\t\t\tm_id.parent().find('span:first').text('None');\r\n\r\n\t\t\t$(\"label[for='magickbar_id'].error\").text('');\r\n\t\t} else if (val === 'timer') {\r\n\t\t\tvar t_id = $('#timer_id');\r\n\t\t\tt_id.val('0').prop('selected', true);\r\n\t\t\tt_id.parent().find('span:first').text('None');\r\n\r\n\t\t\t$(\"label[for='timer_id'].error\").text('');\r\n\t\t} else if (val === 'smart_swap') {\r\n\t\t\tvar s_id = $('#smartswap_id');\r\n\t\t\ts_id.val('0').prop('selected', true);\r\n\t\t\ts_id.parent().find('span:first').text('None');\r\n\r\n\t\t\t$(\"label[for='smartswap_id'].error\").text('');\r\n\t\t} else if (val === 'geotargeting') {\r\n\t\t\t$('#geo_targeting_all').prop(\"checked\", true);\r\n\t\t\t$('#geo_targeting_apecified').prop(\"checked\", false);\r\n\r\n\t\t\tdisplayCountries('All');\r\n\r\n\t\t\t$(\"label[for='geo_targeting'].error\").text('');\r\n\t\t\t$(\"label[for='geo_targeting_include_countries'].error\").text('');\r\n\t\t\t$(\"label[for='geo_targeting_exclude_countries'].error\").text('');\r\n\t\t} else if (val === 'repeat_url') {\r\n\t\t\t$('#tracking_link_visited').prop('checked', false);\r\n\t\t} else if (val === 'pixel_code') {\r\n\t\t\t$('#create_dynamic_link').prop('checked', false);\r\n\t\t} else if (val === 'bad_clicks') {\r\n\t\t\tvar abuser = $('#abuser');\r\n\t\t\tabuser.val('0').prop('selected', true);\r\n\t\t\tabuser.parent().find('div:eq( 0 )').find('span:first').text('Filter');\r\n\r\n\t\t\tvar anon = $('#anon');\r\n\t\t\tanon.val('0').prop('selected', true);\r\n\t\t\tanon.parent().find('div:eq( 1 )').find('span:first').text('Filter');\r\n\r\n\t\t\tvar bot = $('#bot');\r\n\t\t\tbot.val('0').prop('selected', true);\r\n\t\t\tbot.parent().find('div:eq( 2 )').find('span:first').text('Filter');\r\n\r\n\t\t\tvar spider = $('#spider');\r\n\t\t\tspider.val('0').prop('selected', true);\r\n\t\t\tspider.parent().find('div:eq( 3 )').find('span:first').text('Filter');\r\n\r\n\t\t\tvar server = $('#server');\r\n\t\t\tserver.val('0').prop('selected', true);\r\n\t\t\tserver.parent().find('div:eq( 4 )').find('span:first').text('Filter');\r\n\r\n\t\t\tvar user = $('#user');\r\n\t\t\tuser.val('0').prop('selected', true);\r\n\t\t\tuser.parent().find('div:eq( 5 )').find('span:first').text('Filter');\r\n\t\t} else if (val === 'detect_bots') {\r\n\t\t\t$('#detect_new_bots').prop(\"checked\", false);\r\n\t\t}\r\n\r\n\t\t$('#' + val).val('');\r\n\t\t$(\"label[for='\" + val + \"'].error\").text('');\r\n\t}\r\n\r\n\t$val_div.toggle();\r\n\t$('#' + val + '_div_link').toggle();\r\n\r\n\tvar offset = $val_div.offset();\r\n\t$(\"html,body\").animate({\r\n\t\tscrollTop: offset.top - 75,\r\n\t\tscrollLeft: offset.left\r\n\t});\r\n}\r\n\r\nfunction toggleOptionsLoad(val) {\r\n\tif (val === 'pop_up' || val === 'magick_bar' || val === 'timer') {\r\n\t\tvar cloak_div = $('#cloak_div');\r\n\r\n\t\tif (cloak_div.is(':hidden')) {\r\n\t\t\tcloak_div.toggle();\r\n\t\t\t$('#cloak_div_link').toggle();\r\n\t\t}\r\n\t} else if (val === 'max_clicks' || val === 'geotargeting' || val === 'smart_swap') {\r\n\t\tvar $backup_url_div = $('#backup_url_div');\r\n\r\n\t\tif ($backup_url_div.is(':hidden')) {\r\n\t\t\t$backup_url_div.toggle();\r\n\t\t\t$('#backup_url_div_link').toggle();\r\n\t\t}\r\n\t}\r\n\tvar valDiv = $('#' + val + '_div');\r\n\tif (valDiv.is(':hidden')) {\r\n\t\tvalDiv.toggle();\r\n\t\t$('#' + val + '_div_link').toggle();\r\n\t}\r\n}\r\n\r\nfunction displayCloakDetails(val) {\r\n\tif (val === 'Yes') {\r\n\t\t$('.fn_cloak_det').show();\r\n\t} else {\r\n\t\t$('#cloak_page_title').val('');\r\n\t\t$('#cloak_page_description').val('');\r\n\t\t$('label[for=\\'cloak_link\\'].error').text('');\r\n\t\t$('label[for=\\'cloak_page_title\\'].error').text('');\r\n\t\t$('label[for=\\'cloak_page_description\\'].error').text('');\r\n\t\t$('.fn_cloak_det').hide();\r\n\t}\r\n}\r\n\r\nfunction displayCountries(val) {\r\n\tvar $geo_targeting_include_countries = $('#geo_targeting_include_countries');\r\n\tvar $geo_targeting_exclude_countries = $('#geo_targeting_exclude_countries');\r\n\r\n\tif (val === 'All') {\r\n\t\t$geo_targeting_include_countries.parent().find('ul:first li:not(:last)').remove();\r\n\t\t$geo_targeting_include_countries.val(null).trigger(\"change\");\r\n\t\t$geo_targeting_exclude_countries.parent().find('ul:first li:not(:last)').remove();\r\n\t\t$geo_targeting_exclude_countries.val(null).trigger(\"change\");\r\n\t\t$geo_targeting_include_countries.prop('disabled', 'disabled');\r\n\t\t$geo_targeting_exclude_countries.prop('disabled', 'disabled');\r\n\t} else {\r\n\t\t$geo_targeting_include_countries.prop('disabled', false);\r\n\t\t$geo_targeting_exclude_countries.prop('disabled', false);\r\n\t}\r\n}\r\n\r\nfunction generateDynamicCode() {\r\n\tif ($('#create_dynamic_link').is(':checked')) {\r\n\t\t$(\"#affiliate_div\").show();\r\n\t} else {\r\n\t\t$(\"#affiliate_div\").hide();\r\n\t}\r\n}\r\n\r\nfunction addDynamicCode() {\r\n\tvar affiliate_link = $('#affiliate_link').val();\r\n\tif (affiliate_link === '') {\r\n\t\t$(\"#create_dynamic_link_error\").html('Enter your affiliate link to add code');\r\n\t} else {\r\n\t\t$(\"#create_dynamic_link_error\").html('');\r\n\t\tvar code = \"<img height=\\\"1\\\" width=\\\"1\\\" src=\\\"\" + affiliate_link + \"\\\">\";\r\n\t\t$(\"#pixel_code\").val(code);\r\n\t}\r\n}\r\n\r\nfunction injectTrim(handler) {\r\n\treturn function (element, event) {\r\n\t\tif (element.tagName === 'TEXTAREA' || (element.tagName === 'INPUT' && element.type !== 'password')) {\r\n\t\t\telement.value = $.trim(element.value);\r\n\t\t}\r\n\r\n\t\treturn handler.call(this, element, event);\r\n\t};\r\n}\r\n\r\n"]}