{"version":3,"sources":["rotators.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rotators.js","sourcesContent":["(function ($) {\r\n\t$(function () {\r\n\t\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n\t\t$('#rotators_type').select2({\r\n\t\t\tplaceholder: \"~~ Select rotators group ~~\"\r\n\t\t}).on('change', function () {\r\n\t\t\tsubmitForm();\r\n\t\t});\r\n\r\n\t\tfunction submitForm() {\r\n\t\t\t$('#rotators_search').submit();\r\n\t\t}\r\n\r\n\t\tvar $start_date = $('#start_date');\r\n\t\tvar $end_date = $('#end_date');\r\n\r\n\t\tvar base_start = $start_date.val() !== '' ? moment($start_date.val(), 'YYYY-MM-DD') : moment('2015-08-01', 'YYYY-MM-DD');\r\n\t\tvar base_end = $end_date.val() !== '' ? moment($end_date.val(), 'YYYY-MM-DD') : moment();\r\n\r\n\t\tfunction cb(start, end) {\r\n\t\t\t$('#report_range span').html(start.format('YYYY-MM-DD') + ' - ' + end.format('YYYY-MM-DD'));\r\n\r\n\t\t\t$('#start_date').val(start.format('YYYY-MM-DD'));\r\n\r\n\t\t\t$('#end_date').val(end.format('YYYY-MM-DD'));\r\n\r\n\t\t\tif (base_start !== start || base_end !== end) {\r\n\t\t\t\tsubmitForm();\r\n\t\t\t}\r\n\r\n\t\t\tbase_start = start;\r\n\t\t\tbase_end = end;\r\n\t\t}\r\n\r\n\t\t$('#report_range').daterangepicker({\r\n\t\t\tstartDate: base_start,\r\n\t\t\tendDate: base_end,\r\n\t\t\tranges: {\r\n\t\t\t\t'All Days': [moment('2015-08-01', 'YYYY-MM-DD'), moment()],\r\n\t\t\t\t'Today': [moment(), moment()],\r\n\t\t\t\t'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n\t\t\t\t'Last 7 Days': [moment().subtract(6, 'days'), moment()],\r\n\t\t\t\t'Last 30 Days': [moment().subtract(29, 'days'), moment()],\r\n\t\t\t\t'This Month': [moment().startOf('month'), moment().endOf('month')],\r\n\t\t\t\t'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n\t\t\t}\r\n\t\t}, cb);\r\n\r\n\t\tcb(base_start, base_end);\r\n\r\n\t\t$('.selTr').on('mouseover', function () {\r\n\t\t\t$('.link_name').hide();\r\n\t\t\t$(this).children('.action-btn').children('div.full_name').hide();\r\n\t\t\t$(this).children('.action-btn').children('div.link_name').show();\r\n\t\t}).on('mouseleave', function () {\r\n\t\t\t$('.link_name').hide();\r\n\t\t\t$(this).children('.action-btn').children('div.full_name').show();\r\n\t\t});\r\n\t});\r\n})(jQuery);\r\n\r\nfunction clickUrl(id) {\r\n\t$('#rotators_url_show_' + id).toggleClass('rotators_url_tr');\r\n}\r\n\r\nfunction cloneData(id) {\r\n\t$.fancybox({\r\n\t\tmaxWidth: 500,\r\n\t\tmaxHeight: 350,\r\n\t\tfitToView: false,\r\n\t\twidth: '90%',\r\n\t\tautoSize: false,\r\n\t\tcloseClick: false,\r\n\t\ttype: 'iframe',\r\n\t\topenEffect: 'none',\r\n\t\tcloseEffect: 'none',\r\n\t\thref: BASE + '/rotators/' + id + '/edit?flag=cloneRotators'\r\n\t});\r\n}\r\n\r\nfunction deleteRotators(id) {\r\n\tbootbox.confirm({\r\n\t\tmessage: 'Are you sure want to delete rotators?',\r\n\t\tbuttons: {\r\n\t\t\tconfirm: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-check\"></i> Sure',\r\n\t\t\t\tclassName: 'btn-primary'\r\n\t\t\t},\r\n\t\t\tcancel: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-times\"></i> Cancel',\r\n\t\t\t\tclassName: 'btn-warning'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallback: function (result) {\r\n\t\t\tif (result) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'DELETE',\r\n\t\t\t\t\turl: BASE + '/rotators/' + id,\r\n\t\t\t\t\tdata: '_token=' + Token,\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tif (response === 'success') {\r\n\t\t\t\t\t\t\tlocation.reload(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction deleteRotatorsUrl(id, url_id) {\r\n\tbootbox.confirm({\r\n\t\tmessage: 'Are you sure?',\r\n\t\tbuttons: {\r\n\t\t\tconfirm: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-check\"></i> Sure',\r\n\t\t\t\tclassName: 'btn-primary'\r\n\t\t\t},\r\n\t\t\tcancel: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-times\"></i> Cancel',\r\n\t\t\t\tclassName: 'btn-warning'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallback: function (result) {\r\n\t\t\tif (result) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'DELETE',\r\n\t\t\t\t\turl: BASE + '/rotators/' + id,\r\n\t\t\t\t\tdata: '_token=' + Token + '&flag=rotators_url&url_id=' + url_id,\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tif (response === 'success') {\r\n\t\t\t\t\t\t\tlocation.reload(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction resetRotatorsUrl(id, url_id) {\r\n\tbootbox.confirm({\r\n\t\tmessage: 'Are you sure?',\r\n\t\tbuttons: {\r\n\t\t\tconfirm: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-check\"></i> Sure',\r\n\t\t\t\tclassName: 'btn-primary'\r\n\t\t\t},\r\n\t\t\tcancel: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-times\"></i> Cancel',\r\n\t\t\t\tclassName: 'btn-warning'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallback: function (result) {\r\n\t\t\tif (result) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'PUT',\r\n\t\t\t\t\turl: BASE + '/rotators/' + id,\r\n\t\t\t\t\tdata: '_token=' + Token + '&flag=resetRotatorsUrl&url_id=' + url_id,\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tif (response === 'success') {\r\n\t\t\t\t\t\t\tlocation.reload(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction sortUrl(value) {\r\n\tvar $url_tr = $('.url_tr');\r\n\t$url_tr.hide();\r\n\tif ($(value).val() === '0') {\r\n\t\t$url_tr.show();\r\n\t} else if ($(value).val() === '4') {\r\n\t\t$url_tr.show();\r\n\t\t$('.status_2').hide();\r\n\t} else {\r\n\t\t$('.status_' + $(value).val()).show();\r\n\t}\r\n}\r\n\r\nfunction copyRotatorsLink(id) {\r\n\twindow.prompt(\"Your Rotators Link. Copy to clipboard: Ctrl+C, Enter\", $('#preview_' + id).attr('href'));\r\n}\r\n\r\nfunction resetStat(id) {\r\n\tbootbox.confirm({\r\n\t\tmessage: 'Are you sure?',\r\n\t\tbuttons: {\r\n\t\t\tconfirm: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-check\"></i> Sure',\r\n\t\t\t\tclassName: 'btn-primary'\r\n\t\t\t},\r\n\t\t\tcancel: {\r\n\t\t\t\tlabel: '<i class=\"fa fa-times\"></i> Cancel',\r\n\t\t\t\tclassName: 'btn-warning'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallback: function (result) {\r\n\t\t\tif (result) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'PUT',\r\n\t\t\t\t\turl: BASE + '/rotators/' + id,\r\n\t\t\t\t\tdata: '_token=' + Token + '&flag=resetState',\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tif (response === 'success') {\r\n\t\t\t\t\t\t\tlocation.reload(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}"]}