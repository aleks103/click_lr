{"version":3,"sources":["conversiontime.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"conversiontime.js","sourcesContent":["(function ($) {\r\n\t$(function () {\r\n\t\t$('#link_type').select2({\r\n\t\t\tplaceholder: \"~~ Select links group ~~\"\r\n\t\t}).on('change', function () {\r\n\t\t\tsubmitForm();\r\n\t\t});\r\n\r\n\t\tfunction submitForm() {\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: BASE + '/users/getconversionbytime',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t_token: Token,\r\n\t\t\t\t\tlink_type: $('#link_type').val(),\r\n\t\t\t\t\tstart_date: $('#start_date').val(),\r\n\t\t\t\t\tend_date: $('#end_date').val()\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\tvar actions = ['Action', 'Sales', 'Event'];\r\n\t\t\t\t\tvar durations = ['Hour', 'Week', 'Month'];\r\n\t\t\t\t\tvar n = 0;\r\n\t\t\t\t\tvar results = JSON.parse(response);\r\n\t\t\t\t\tfor (var i in durations) {\r\n\t\t\t\t\t\tfor (var j in actions) {\r\n\t\t\t\t\t\t\tvar xCategories = [];\r\n\t\t\t\t\t\t\tif (i === '0') {\r\n\t\t\t\t\t\t\t\txCategories = ['12AM', '1AM', '2AM', '3AM', '4AM', '5AM', '6AM', '7AM', '8AM', '9AM', '10AM', '11AM', '12PM', '1PM', '2PM', '3PM', '4PM', '5PM', '6PM', '7PM', '8PM', '9PM', '10PM', '11PM'];\r\n\t\t\t\t\t\t\t} else if (i === '1') {\r\n\t\t\t\t\t\t\t\txCategories = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\txCategories = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar chartOption = {\r\n\t\t\t\t\t\t\t\ttitle: actions[j] + ' By ' + durations[i],\r\n\t\t\t\t\t\t\t\txCategories: xCategories\r\n\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tdrawGraph(n, results[n], chartOption);\r\n\t\t\t\t\t\t\tn++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar base_start = $('#start_date').val() !== '' ? moment($('#start_date').val(), 'YYYY-MM-DD') : moment('2015-08-01', 'YYYY-MM-DD');\r\n\t\tvar base_end = $('#end_date').val() !== '' ? moment($('#end_date').val(), 'YYYY-MM-DD') : moment();\r\n\r\n\t\tfunction cb(start, end) {\r\n\t\t\t$('#report_range span').html(start.format('YYYY-MM-DD') + ' - ' + end.format('YYYY-MM-DD'));\r\n\r\n\t\t\t$('#start_date').val(start.format('YYYY-MM-DD'));\r\n\r\n\t\t\t$('#end_date').val(end.format('YYYY-MM-DD'));\r\n\r\n\t\t\tif (base_start !== start || base_end !== end) {\r\n\t\t\t\tsubmitForm();\r\n\t\t\t}\r\n\r\n\t\t\tbase_start = start;\r\n\t\t\tbase_end = end;\r\n\t\t}\r\n\r\n\t\t$('#report_range').daterangepicker({\r\n\t\t\tstartDate: base_start,\r\n\t\t\tendDate: base_end,\r\n\t\t\tranges: {\r\n\t\t\t\t'All Days': [moment('2015-08-01', 'YYYY-MM-DD'), moment()],\r\n\t\t\t\t'Today': [moment(), moment()],\r\n\t\t\t\t'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n\t\t\t\t'Last 7 Days': [moment().subtract(6, 'days'), moment()],\r\n\t\t\t\t'Last 30 Days': [moment().subtract(29, 'days'), moment()],\r\n\t\t\t\t'This Month': [moment().startOf('month'), moment().endOf('month')],\r\n\t\t\t\t'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n\t\t\t}\r\n\t\t}, cb);\r\n\r\n\t\tcb(base_start, base_end);\r\n\t\tsubmitForm();\r\n\t});\r\n\r\n\t//\r\n\tfunction drawGraph(ind, data, opt) {\r\n\t\t$('.chartElem' + ind).highcharts({\r\n\t\t\ttitle: {\r\n\t\t\t\ttext: opt.title,\r\n\t\t\t\tx: -20\r\n\t\t\t},\r\n\t\t\tchart: {},\r\n\t\t\txAxis: {\r\n\t\t\t\tcategories: opt.xCategories,\r\n\t\t\t\tlabels: {\r\n\t\t\t\t\tstep: 1\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\ttext: 'Count'\r\n\t\t\t\t},\r\n\t\t\t\tplotLines: [{\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\twidth: 1,\r\n\t\t\t\t\tcolor: '#808080'\r\n\t\t\t\t}]\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tlayout: 'vertical',\r\n\t\t\t\talign: 'bottom',\r\n\t\t\t\tverticalAlign: 'bottom',\r\n\t\t\t\tborderWidth: 0\r\n\t\t\t},\r\n\t\t\tseries: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Total Clicks',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\r\n})(jQuery);"]}