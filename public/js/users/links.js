function trackPopup(e,n){$.fancybox({maxWidth:780,maxHeight:550,fitToView:!1,width:"90%",autoSize:!1,closeClick:!1,type:"iframe",openEffect:"none",closeEffect:"none",href:BASE+"/links/"+e+"?flag="+n+"&link_type="+$("#link_type").val()})}function cloneData(e){$.fancybox({maxWidth:500,maxHeight:350,fitToView:!1,width:"90%",autoSize:!1,closeClick:!1,type:"iframe",openEffect:"none",closeEffect:"none",href:BASE+"/links/"+e+"/edit?flag=cloneLink"})}function deleteLink(e){bootbox.confirm({message:"Are you sure want to delete link?",buttons:{confirm:{label:'<i class="fa fa-check"></i> Sure',className:"btn-primary"},cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn-warning"}},callback:function(n){n&&$.ajax({type:"DELETE",url:BASE+"/links/"+e,data:"_token="+Token,success:function(e){"success"===e&&(location.href=href_url)}})}})}function archiveLink(e,n){bootbox.confirm({message:"Are you sure want to archive link?",buttons:{confirm:{label:'<i class="fa fa-check"></i> Sure',className:"btn-primary"},cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn-warning"}},callback:function(t){t&&$.ajax({type:"PUT",url:BASE+"/links/"+e,data:"_token="+Token+"&flag=archive&type_link="+n,success:function(e){"success"===e&&(location.href=href_url)}})}})}function copyTrackingLink(e){window.prompt("Your Tracking Link. Copy to clipboard: Ctrl+C, Enter",$("#preview_"+e).attr("href"))}function resetStat(e){bootbox.confirm({message:"Are you sure?",buttons:{confirm:{label:'<i class="fa fa-check"></i> Sure',className:"btn-primary"},cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn-warning"}},callback:function(n){n&&$.ajax({type:"PUT",url:BASE+"/links/"+e,data:"_token="+Token+"&flag=resetState",success:function(e){"success"===e&&location.reload(!0)}})}})}!function(e){e(function(){function n(){e("#link_search").submit()}function t(t,a){e("#report_range span").html(t.format("YYYY-MM-DD")+" - "+a.format("YYYY-MM-DD")),e("#start_date").val(t.format("YYYY-MM-DD")),e("#end_date").val(a.format("YYYY-MM-DD")),c===t&&i===a||n(),c=t,i=a}e("#link_type").select2({placeholder:"~~ Select links group ~~"}).on("change",function(){n()});var a=e("#start_date"),o=e("#end_date"),c=""!==a.val()?moment(a.val(),"YYYY-MM-DD"):moment("2015-08-01","YYYY-MM-DD"),i=""!==o.val()?moment(o.val(),"YYYY-MM-DD"):moment();e("#report_range").daterangepicker({startDate:c,endDate:i,ranges:{"All Days":[moment("2015-08-01","YYYY-MM-DD"),moment()],Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},t),t(c,i),e(".selTr").on("mouseover",function(){e(".link_name").hide(),e(this).children(".action-btn").children("div.full_name").hide(),e(this).children(".action-btn").children("div.link_name").show()}).on("mouseleave",function(){e(".link_name").hide(),e(this).children(".action-btn").children("div.full_name").show()})})}(jQuery);