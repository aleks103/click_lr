{"version":3,"sources":["jquery.fancybox-thumbs.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"jquery.fancybox-thumbs.js","sourcesContent":[" /*!\r\n * Thumbnail helper for fancyBox\r\n * version: 1.0.7 (Mon, 01 Oct 2012)\r\n * @requires fancyBox v2.0 or later\r\n *\r\n * Usage:\r\n *     $(\".fancybox\").fancybox({\r\n *         helpers : {\r\n *             thumbs: {\r\n *                 width  : 50,\r\n *                 height : 50\r\n *             }\r\n *         }\r\n *     });\r\n *\r\n */\r\n;(function ($) {\r\n\t//Shortcut for fancyBox object\r\n\tvar F = $.fancybox;\r\n\r\n\t//Add helper object\r\n\tF.helpers.thumbs = {\r\n\t\tdefaults : {\r\n\t\t\twidth    : 50,       // thumbnail width\r\n\t\t\theight   : 50,       // thumbnail height\r\n\t\t\tposition : 'bottom', // 'top' or 'bottom'\r\n\t\t\tsource   : function ( item ) {  // function to obtain the URL of the thumbnail image\r\n\t\t\t\tvar href;\r\n\r\n\t\t\t\tif (item.element) {\r\n\t\t\t\t\thref = $(item.element).find('img').attr('src');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!href && item.type === 'image' && item.href) {\r\n\t\t\t\t\thref = item.href;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn href;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twrap  : null,\r\n\t\tlist  : null,\r\n\t\twidth : 0,\r\n\r\n\t\tinit: function (opts, obj) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tlist,\r\n\t\t\t\tthumbWidth  = opts.width,\r\n\t\t\t\tthumbHeight = opts.height,\r\n\t\t\t\tthumbSource = opts.source;\r\n\r\n\t\t\t//Build list structure\r\n\t\t\tlist = '';\r\n\r\n\t\t\tfor (var n = 0; n < obj.group.length; n++) {\r\n\t\t\t\tlist += '<li><a style=\"width:' + thumbWidth + 'px;height:' + thumbHeight + 'px;\" href=\"javascript:jQuery.fancybox.jumpto(' + n + ');\"></a></li>';\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrap = $('<div id=\"fancybox-thumbs\"></div>').addClass(opts.position).appendTo('body');\r\n\t\t\tthis.list = $('<ul>' + list + '</ul>').appendTo(this.wrap);\r\n\r\n\t\t\t//Load each thumbnail\r\n\t\t\t$.each(obj.group, function (i) {\r\n\t\t\t\tvar el   = obj.group[ i ],\r\n\t\t\t\t\thref = thumbSource( el );\r\n\r\n\t\t\t\tif (!href) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(\"<img />\").on(\"load\", function () {\r\n\t\t\t\t\tvar width  = this.width,\r\n\t\t\t\t\t\theight = this.height,\r\n\t\t\t\t\t\twidthRatio, heightRatio, parent;\r\n\r\n\t\t\t\t\tif (!that.list || !width || !height) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//Calculate thumbnail width/height and center it\r\n\t\t\t\t\twidthRatio  = width / thumbWidth;\r\n\t\t\t\t\theightRatio = height / thumbHeight;\r\n\r\n\t\t\t\t\tparent = that.list.children().eq(i).find('a');\r\n\r\n\t\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\r\n\t\t\t\t\t\tif (widthRatio > heightRatio) {\r\n\t\t\t\t\t\t\twidth  = Math.floor(width / heightRatio);\r\n\t\t\t\t\t\t\theight = thumbHeight;\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\twidth  = thumbWidth;\r\n\t\t\t\t\t\t\theight = Math.floor(height / widthRatio);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(this).css({\r\n\t\t\t\t\t\twidth  : width,\r\n\t\t\t\t\t\theight : height,\r\n\t\t\t\t\t\ttop    : Math.floor(thumbHeight / 2 - height / 2),\r\n\t\t\t\t\t\tleft   : Math.floor(thumbWidth / 2 - width / 2)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tparent.width(thumbWidth).height(thumbHeight);\r\n\r\n\t\t\t\t\t$(this).hide().appendTo(parent).fadeIn(300);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.attr('src',   href)\r\n\t\t\t\t.attr('title', el.title);\r\n\t\t\t});\r\n\r\n\t\t\t//Set initial width\r\n\t\t\tthis.width = this.list.children().eq(0).outerWidth(true);\r\n\r\n\t\t\tthis.list.width(this.width * (obj.group.length + 1)).css('left', Math.floor($(window).width() * 0.5 - (obj.index * this.width + this.width * 0.5)));\r\n\t\t},\r\n\r\n\t\tbeforeLoad: function (opts, obj) {\r\n\t\t\t//Remove self if gallery do not have at least two items\r\n\t\t\tif (obj.group.length < 2) {\r\n\t\t\t\tobj.helpers.thumbs = false;\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Increase bottom margin to give space for thumbs\r\n\t\t\tobj.margin[ opts.position === 'top' ? 0 : 2 ] += ((opts.height) + 15);\r\n\t\t},\r\n\r\n\t\tafterShow: function (opts, obj) {\r\n\t\t\t//Check if exists and create or update list\r\n\t\t\tif (this.list) {\r\n\t\t\t\tthis.onUpdate(opts, obj);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.init(opts, obj);\r\n\t\t\t}\r\n\r\n\t\t\t//Set active element\r\n\t\t\tthis.list.children().removeClass('active').eq(obj.index).addClass('active');\r\n\t\t},\r\n\r\n\t\t//Center list\r\n\t\tonUpdate: function (opts, obj) {\r\n\t\t\tif (this.list) {\r\n\t\t\t\tthis.list.stop(true).animate({\r\n\t\t\t\t\t'left': Math.floor($(window).width() * 0.5 - (obj.index * this.width + this.width * 0.5))\r\n\t\t\t\t}, 150);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeClose: function () {\r\n\t\t\tif (this.wrap) {\r\n\t\t\t\tthis.wrap.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrap  = null;\r\n\t\t\tthis.list  = null;\r\n\t\t\tthis.width = 0;\r\n\t\t}\r\n\t}\r\n\r\n}(jQuery));\r\n"]}